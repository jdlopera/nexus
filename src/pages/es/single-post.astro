---
import BlogSingle from "../../components/BlogSingle.astro";
import Sections from "../../components/Sections.astro";
import LayoutNavOscuro from "../../layouts/Layout-nav-oscuro.astro";
import { fetchPosts, LanguageCodeEnum } from "../../lib/graphql";

// Usamos un artículo de ejemplo para demo
// En producción, esto debería ser reemplazado por la lógica para obtener el artículo específico
const demoPost = {
  title: "Demo de Artículo del Blog",
  author: {
    name: "Equipo Nexus",
    role: "Desarrollador",
    avatar: "https://github.com/shadcn.png"
  },
  publishDate: new Date().toISOString(),
  tags: ["Demo", "Nexus", "Blog"],
  heroImage: "https://images.unsplash.com/photo-1504711434969-e33886168f5c",
  recentPosts: [
    {
      title: "Artículo de ejemplo 1",
      date: new Date().toISOString(),
      url: "#"
    },
    {
      title: "Artículo de ejemplo 2",
      date: new Date().toISOString(),
      url: "#"
    },
    {
      title: "Artículo de ejemplo 3",
      date: new Date().toISOString(),
      url: "#"
    }
  ],
  tableOfContents: [
    { title: "Introducción", id: "introduccion" },
    { title: "Desarrollo", id: "desarrollo" },
    { title: "Conclusión", id: "conclusion" }
  ],
  content: `
    <h2 id="introduccion">Introducción</h2>
    <p>Este es un artículo de demostración para el proyecto Nexus.</p>
    
    <h2 id="desarrollo">Desarrollo</h2>
    <p>Aquí va el contenido principal del artículo de ejemplo.</p>
    
    <h2 id="conclusion">Conclusión</h2>
    <p>Esta es la conclusión del artículo de ejemplo.</p>
  `
};
---

<LayoutNavOscuro title="Artículo del Blog - Nexus">
  <main>
    <section class="single-post">
      <Sections
        _styles="padding-inline: var(--grid-gutter); padding-block: var(--espacio-l);"
      >
        <BlogSingle 
          title={demoPost.title}
          author={demoPost.author}
          publishDate={demoPost.publishDate}
          tags={demoPost.tags}
          heroImage={demoPost.heroImage}
          recentPosts={demoPost.recentPosts}
          tableOfContents={demoPost.tableOfContents}
          content={demoPost.content}
        />
      </Sections>
    </section>
  </main>
</LayoutNavOscuro>
